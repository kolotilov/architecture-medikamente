# Задание 4. Оценка узких мест при миграции

## 1. Анализ текущей системы и целей миграции

### Текущая система:
- Отсутствие API и централизованного хранилища данных.
- Excel-файлы, файловые хранилища, 1С:Бухгалтерия.
- Множество ручных операций и дублирование информации.

### Цели миграции:
- Переход на микросервисную архитектуру.
- Обеспечение требований безопасности (ФЗ-152, GDPR).
- Централизация и автоматизация: запись к врачу, CRM, аналитика.
- Уход от Excel и 1С в сторону облачных решений и сервисов.

### Компоненты, затрагиваемые миграцией:
- Инфраструктура (облако, контейнеризация, CI/CD).
- Базы данных (миграция из файлов, разделение по доменам).
- Программное обеспечение (отказ от монолита).
- Интеграции с внешними системами.
- Персонал и процессы (обучение, DevOps).
- Безопасность (шифрование, контроль доступа).

---

## 2. Диаграмма Исикавы

Категории:

- Инфраструктура
- Данные
- Архитектура
- Персонал
- Процессы
- Технологии

---

## 3. Выявленные проблемы и рекомендации

### Инфраструктура
- **Проблемы**:
  - Недостаточная вычислительная мощность.
  - Отсутствие контейнеризации и CI/CD.
- **Решения**:
  - Использование облачной инфраструктуры.
  - Внедрение Docker, GitLab CI/CD, IaC.
  - Горизонтальное масштабирование.

### Данные
- **Проблемы**:
  - Миграция из Excel-файлов в базы данных.
  - Необходимость валидации, очистки, шифрования.
- **Решения**:
  - ETL-процессы (например, Apache NiFi).
  - Классификация и защита персональных данных.
  - Использование TDE, токенизации и DLP-систем.

### Архитектура
- **Проблемы**:
  - Ошибки при определении границ микросервисов.
  - Распределённые транзакции, API, отказоустойчивость.
- **Решения**:
  - Применение DDD, API-first, паттернов Circuit Breaker, Event Sourcing.

### Персонал
- **Проблемы**:
  - Недостаток DevOps-компетенций.
  - Сопротивление изменениям.
- **Решения**:
  - Обучение, внутренняя документация.
  - Привлечение специалистов с опытом в облаке.

### Процессы
- **Проблемы**:
  - Отсутствие CI/CD.
  - Параллельная поддержка старой и новой системы.
- **Решения**:
  - Использование Strangler Fig, API Gateway.
  - План миграции с приоритезацией сервисов.

### Технологии
- **Проблемы**:
  - Несовместимость устаревших систем (например, 1С).
  - Недостаточный опыт с современным стеком.
- **Решения**:
  - Введение адаптеров.
  - Поэтапное внедрение технологий через MVP.

---

## 4. Рекомендации и приоритизация

### Высокий приоритет:
- Определение границ микросервисов.
- Защита персональных данных.
- Облачная инфраструктура и контейнеризация.
- Миграция данных и их валидация.
- Обучение ключевых сотрудников.

### Средний приоритет:
- Интеграция с внешними API.
- Внедрение отказоустойчивых паттернов.
- Настройка CI/CD и мониторинга.

### Низкий приоритет:
- Продвинутая оркестрация (Kubernetes).
- Масштабируемая аналитика.
- Автоматическое масштабирование.